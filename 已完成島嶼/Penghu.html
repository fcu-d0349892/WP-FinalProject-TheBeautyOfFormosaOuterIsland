<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
        <title>澎湖</title>
        
        <style>
            #map {
                height: 500px;
                width: 500px;
            }
         </style>     
	</head>

	<body>

        <h1>澎湖</h1>

        <div id="map"></div>

        <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDOTVkWo2EMR6xO16mb05oKvuULxXmMZsU&callback=initMap"></script>
        <script type = "text/javascript">

            var penghuCenter = {lat: 23.485810, lng: 119.548109};
            var penghuZoom = 10;
            var penghuIsland = [
                [ {lat: 23.568339, lng: 119.622011}, '澎湖本島（大山嶼）'],
                [ {lat: 23.604937, lng: 119.510672}, '西嶼'],                
                [ {lat: 23.661030, lng: 119.592769}, '白沙島（北沙）'],
                [ {lat: 23.208978, lng: 119.430334}, '七美嶼（大嶼）'],
                [ {lat: 23.373245, lng: 119.501884}, '望安島（八罩島）'],
                [ {lat: 23.745114, lng: 119.609706}, '吉貝嶼（嘉簸嶼）'],
                [ {lat: 23.490736, lng: 119.527231}, '虎井嶼'],
                [ {lat: 23.256888, lng: 119.672146}, '東吉嶼'],
                [ {lat: 23.368766, lng: 119.530910}, '將軍澳嶼'],
                [ {lat: 23.616190, lng: 119.607280}, '中屯島'],
                [ {lat: 23.404233, lng: 119.321863}, '花嶼']
            ];

            function initMap() {

                var infoWindow = new google.maps.InfoWindow();

                var map = new google.maps.Map(document.getElementById('map'), {
                    zoom: penghuZoom,
                    center: penghuCenter
                });

                for( i in penghuIsland ) {
                    marker = new google.maps.Marker({
                        position: penghuIsland[i][0],
                        icon: './pin.png',
                        map: map
                    });

                    google.maps.event.addListener(marker, 'mouseover', (function(marker, i) {
                        return function() {
                            infoWindow.setContent( penghuIsland[i][1] );
                            infoWindow.open(map, marker);
                        }
                    })(marker, i));
                }

            }

        </script>

	</body>
</html>
